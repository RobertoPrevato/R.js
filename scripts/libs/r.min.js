/*!
 * R.js, ultralight solution to dependencies management.
 * https://github.com/RobertoPrevato/R.js
 *
 * Copyright 2015, Roberto Prevato
 * http://ugrose.com
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("R.js requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a,b){var c="indexOf";if(a[c])return a[c](b);for(var d=0,e=a[g];e>d;d++)if(a[d]===b)return d;return-1}function d(a){var b,d=[],e="resolved";for(b in f){var i=f[b];if(!i[e]){var j=i[0],k=c(j,a);-1!=k&&j.splice(k,1),j[g]||(f[b][e]=!0,d[h](b),R(b,i[1],i[2]))}}for(var l=0,m=d[g];m>l;l++)delete f[d[l]]}var e={},f={},g="length",h="push";return this.R=function(a,b,c){var i=arguments,j=i[g],k=void 0;if(!j)return R;if(1==j){var l=i[0];if("string"==typeof l)return e[l];for(var m=[],n=0,o=l[g];o>n;n++)m[h](e[l[n]]);return m}if(2==j)return e[a]=b,d(a,b),b;var m=R(b),p=[];if(!m)return null;for(var n=0,o=m[g];o>n;n++)m[n]===k&&(p[h](b[n]),R.debug?console.log("R.js: waiting for",b[n]):0);if(p[g])return f[a]=[p,b,c],null;var q,r="call",s=this;switch(m[g]){case 0:q=c[r](s);break;case 1:q=c[r](s,m[0]);break;case 2:q=c[r](s,m[0],m[1]);break;case 3:q=c[r](s,m[0],m[1],m[2]);break;case 4:q=c[r](s,m[0],m[1],m[2],m[3]);break;case 5:q=c[r](s,m[0],m[1],m[2],m[3],m[4]);break;default:q=c.apply(s,m)}return q===k&&(q=""),e[a]=q,d(a,q),q},R.queue=function(){return f},R});